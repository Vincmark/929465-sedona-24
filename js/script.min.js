var priceFrom=document.getElementById("id-min-price"),priceTo=document.getElementById("id-max-price"),wMax=298;function getBarPosition(e){return Math.round(wMax/3500*e)}function setBarLine(){var e=Number(priceFrom.value),t=Number(priceTo.value),r=Math.round(wMax/3500*e),n=Math.round(wMax/3500*t)-r,o=document.querySelector(".bar");o.style.left=r+10+"px",o.style.width=n+"px"}null!==priceFrom&&priceFrom.addEventListener("change",function(e){e.preventDefault();var t=Number(priceFrom.value),r=Number(priceTo.value);0===t&&(t=0),r<t&&(t=r-1),3499<t&&(t=3499),t<0&&(t=0),priceFrom.value=t,document.getElementById("id-toggle-min").style.left=getBarPosition(t)+"px",setBarLine()}),null!==priceTo&&priceTo.addEventListener("change",function(e){e.preventDefault();var t=Number(priceFrom.value),r=Number(priceTo.value);0===r&&(r=t+1),r<t&&(r=t+1),3500<r&&(r=3500),r<0&&(r=0),priceTo.value=r,document.getElementById("id-toggle-max").style.left=getBarPosition(r)+"px",setBarLine()});var button=document.querySelector(".booking-CTA-button"),booking_find_btn=document.querySelector(".booking-form-find"),booking_form=document.querySelector(".booking-form"),ArrivalDate=document.getElementById("id-arrival-date"),DepartureDate=document.getElementById("id-departure-date"),ArrivalDateText=document.querySelector(".arrival-date-text"),DepartureDateText=document.querySelector(".departure-date-text"),AdultsNum=document.getElementById("id-adults"),ChildrenNum=document.getElementById("id-children"),AdultsNumText=document.querySelector(".adults-num-text"),ChildrenNumText=document.querySelector(".children-num-text");null!==button&&(button.addEventListener("click",function(e){e.preventDefault();var t=booking_form.classList.contains("form-show"),r=booking_form.classList.contains("form-show-no-animation");t||r?(t||r)&&(booking_form.classList.remove("form-show"),booking_form.classList.remove("form-show-no-animation")):booking_form.classList.add("form-show"),clearError()}),booking_find_btn.addEventListener("click",function(e){e.preventDefault(),clearError(),booking_form.offsetWidth=booking_form.offsetWidth;var t=!1,r=!1,n=!1,o=!1,i=!1,a=ArrivalDate.value,u=DepartureDate.value,d=AdultsNum.value,l=ChildrenNum.value,s=isDate(a),c=isDate(u),m=new Date;m.setHours(0),m.setMinutes(0),m.setSeconds(0),!1===s&&(t=!0),!1===c&&(r=!0),(t||r)&&(i=!0),s-m<0&&(i=t=!0),(c-s<0||c-m<0)&&(i=r=!0),(""===d||Number(d)<1)&&(i=n=!0),""===l&&(i=o=!0),i?setError(t,r,n,o,i):document.getElementById("id-booking-form").submit()}));var isDate=function(e){e.toLowerCase(),e.trim();var t=[31,28,31,30,31,30,31,31,30,31,30,31],r=e.split(" ");if(3!==r.length)return!1;var n=["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"].indexOf(r[1]);if(-1===n)return!1;var o=r[0],i=n,a=r[2];if(a<2e3||2100<a)return!1;if((a%400==0||a%100!=0&&a%4==0)&&(t[1]=29),o<0||o>t[i])return!1;var u=new Date;return u.setDate(o),u.setMonth(i),u.setFullYear(a),u.setHours(0),u.setMinutes(0),u.setSeconds(0),u},setError=function(e,t,r,n,o){e&&ArrivalDateText.classList.add("input-error"),t&&DepartureDateText.classList.add("input-error"),r&&AdultsNumText.classList.add("input-error"),n&&ChildrenNumText.classList.add("input-error"),(e||t||o)&&(booking_form.classList.add("form-error"),booking_form.classList.add("form-show-no-animation"),booking_form.classList.remove("form-show"))},clearError=function(){booking_form.classList.remove("form-error"),ArrivalDateText.classList.remove("input-error"),DepartureDateText.classList.remove("input-error"),AdultsNumText.classList.remove("input-error"),ChildrenNumText.classList.remove("input-error")},adultsAddBtn=document.getElementById("id-adults-add");null!==adultsAddBtn&&adultsAddBtn.addEventListener("click",function(e){e.preventDefault();var t=document.getElementById("id-adults"),r=t.value;++r<=9&&(t.value=r)});var adultsSubBtn=document.getElementById("id-adults-sub");null!==adultsSubBtn&&adultsSubBtn.addEventListener("click",function(e){e.preventDefault();var t=document.getElementById("id-adults"),r=t.value;1<=--r&&(t.value=r)});var childrenAddBtn=document.getElementById("id-children-add");null!==childrenAddBtn&&childrenAddBtn.addEventListener("click",function(e){e.preventDefault();var t=document.getElementById("id-children"),r=t.value;++r<=9&&(t.value=r)});var childrenSubBtn=document.getElementById("id-children-sub");null!==childrenSubBtn&&childrenSubBtn.addEventListener("click",function(e){e.preventDefault();var t=document.getElementById("id-children"),r=t.value;0<=--r&&(t.value=r)});